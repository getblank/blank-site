<!DOCTYPE html>
<html class="no-js" lang="ru-RU" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport"> 
    <meta name="generator" content="Hugo 0.79.0" />

    
        <meta name="description" content="Облачная платформа для создания бэкенда с открытым исходным кодом">
    

    
        <meta name="keywords" content="BaaS, backend, cloud, iot, platform, бэкенд, облачный сервис, интернет вещей">
    

    <meta name="author" content="BLANK">


    <base href="https://getblank.github.io/site/">

    
    <title>Store reference &middot; BLANK cloud platform</title>
    

    <link rel="canonical" href="https://getblank.github.io/site/doc/store_reference/">
    <link rel="shortcut icon" href="/img/favicon.ico" />
    <link href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900' rel='stylesheet' type='text/css'>
<link href="/site/css/app.css" media="all" rel="stylesheet"/>
<link href="/site/css/hl-github.css" rel="stylesheet">
</head>

<body lang="ru">
 <script type="text/javascript" > (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(34002915, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, trackHash:true }); </script> <noscript><div><img src="https://mc.yandex.ru/watch/34002915" style="position:absolute; left:-9999px;" alt="" /></div></noscript> 

<div id="navbar"  class="no-expand blog"  >
    <div class="container">
        <a href="#" data-menu="sidenav" class="nav-toggle menu">
            <img src="/site/img/menu.svg" alt="menu"/>
        </a>
        <div class="logo">
            <a href="index.html" class="nav-link">BLANK</a>
        </div>
        <ul class="nav collapse" id="nav">
            <li>
                <a href="/site/doc/introduction/" class="nav-link index-link active">
                    Документация
                </a>
            </li>
            <li>
                <a href="#contacts" class="nav-link index-link" data-active-until="contacts-end" data-active-after="contacts-start">
                    Контакты
                </a>
            </li>
            <li>
                <a href="https://github.com/getblank/" class="nav-link">
                    <img src="img/GitHub-Mark-Light-32px.png" style="width: 14px; height: 14px; position: relative; top: 1px" border="0">
                    GitHub
                </a>
            </li>
        </ul>
    </div>
</div>

<div id="docs">
  <div class="docs-contents">
    
    
    
      <h3>Начало работы</h3>
    
      
        <ul>
          
            <li >
              <a href="/site/doc/introduction/">Вступление</a>
            </li>
          
            <li >
              <a href="/site/doc/quickstart/">Быстрый старт</a>
            </li>
          
            <li >
              <a href="/site/doc/settings/">Конфигурация</a>
            </li>
          
        </ul>
        <hr/>
      
    
    
      <h3>Blank CLI</h3>
    
      
        <ul>
          
            <li >
              <a href="/site/doc/cli/">CLI reference</a>
            </li>
          
            <li >
              <a href="/site/doc/build/">Сборка конфигурации</a>
            </li>
          
        </ul>
        <hr/>
      
    
    
      <h3>Blank Schema</h3>
    
      
        <ul>
          
            <li >
              <a href="/site/doc/schema/">Описание</a>
            </li>
          
            <li >
              <a href="/site/doc/stores/">Stores</a>
            </li>
          
            <li  class="active">
              <a href="/site/doc/store_reference/">Store reference</a>
            </li>
          
            <li >
              <a href="/site/doc/store-displaying/">Store displaying</a>
            </li>
          
            <li >
              <a href="/site/doc/props_reference/">Props reference</a>
            </li>
          
            <li >
              <a href="/site/doc/props-modeling/">Props modeling</a>
            </li>
          
            <li >
              <a href="/site/doc/props-displaying/">Props displaying</a>
            </li>
          
            <li >
              <a href="/site/doc/access/">Access control</a>
            </li>
          
            <li >
              <a href="/site/doc/filters/">Filters</a>
            </li>
          
            <li >
              <a href="/site/doc/httphooks/">HTTP hooks</a>
            </li>
          
            <li >
              <a href="/site/doc/lifecycle_events/">Lifecycle events</a>
            </li>
          
        </ul>
        <hr/>
      
    
    
      <h3>Serverside JS API</h3>
    
      
        <ul>
          
            <li >
              <a href="doc/serverjs/">Описание</a>
            </li>
          
            <li >
              <a href="doc/actions/">Actions</a>
            </li>
          
            <li >
              <a href="doc/db">$db</a>
            </li>
          
            <li >
              <a href="doc/request/">$request</a>
            </li>
          
            <li >
              <a href="doc/email/">Email</a>
            </li>
          
            <li >
              <a href="doc/files/">Files</a>
            </li>
          
            <li >
              <a href="doc/fs/">FS</a>
            </li>
          
            <li >
              <a href="doc/i18n/">I18n</a>
            </li>
          
            <li >
              <a href="doc/queue/">Queue</a>
            </li>
          
        </ul>
        <hr/>
      
    
    
      <h3>HTTP API</h3>
    
      
        <ul>
          
            <li >
              <a href="/site/doc/httprest/">REST</a>
            </li>
          
            <li >
              <a href="/site/doc/httpauth/">Auth</a>
            </li>
          
        </ul>
        <hr/>
      
    
    
      <h3>Интеграция</h3>
    
      
        <ul>
          
            <li >
              <a href="/site/doc/facebook/">Facebook</a>
            </li>
          
        </ul>
        <hr/>
      
    

  </div>
  <div class="doc-wrapper">
    <div class="doc">
      <h1>Store reference</h1>
      <div class="content">
        <p>В зависимости от типа, Store может обладать определённым набором свойств из списка:</p>
<ul>
<li><a href="/site/doc/store_reference/#access">access</a>;</li>
<li><a href="/site/doc/store_reference/#actions">actions</a>;</li>
<li><a href="/site/doc/store_reference/#basestore">baseStore</a>;</li>
<li><a href="/site/doc/store_reference/#config">config</a>;</li>
<li><a href="/site/doc/store_reference/#disableautoselect">disableAutoSelect</a>;</li>
<li><a href="/site/doc/store_reference/#display">display</a>;</li>
<li><a href="/site/doc/store_reference/#filters">filters</a>;</li>
<li><a href="/site/doc/store_reference/#formgroups">formGroups</a>;</li>
<li><a href="/site/doc/store_reference/#formtabs">formTabs</a>;</li>
<li><a href="/site/doc/store_reference/#headerproperty">headerProperty</a>;</li>
<li><a href="/site/doc/store_reference/#headertemplate">headerTemplate</a>;</li>
<li><a href="/site/doc/store_reference/#html">html</a>;</li>
<li><a href="/site/doc/store_reference/#httpapi">httpApi</a>;</li>
<li><a href="/site/doc/store_reference/#httphooks">httpHooks</a>;</li>
<li><a href="/site/doc/store_reference/#i18n">i18n</a>;</li>
<li><a href="/site/doc/store_reference/#indexes">indexes</a>;</li>
<li><a href="/site/doc/store_reference/#label">label</a>;</li>
<li><a href="/site/doc/store_reference/#labels">labels</a>;</li>
<li><a href="/site/doc/store_reference/#navgroup">navGroup</a>;</li>
<li><a href="/site/doc/store_reference/#navlabel">navLabel</a>;</li>
<li><a href="/site/doc/store_reference/#objectlifecycle">objectLifeCycle</a>;</li>
<li><a href="/site/doc/store_reference/#orderby">orderBy</a>;</li>
<li><a href="/site/doc/store_reference/#props">props</a>;</li>
<li><a href="/site/doc/store_reference/#states">states</a>;</li>
<li><a href="/site/doc/store_reference/#storeactions">storeActions</a>;</li>
<li><a href="/site/doc/store_reference/#storelifecycle">storeLifeCycle</a>;</li>
<li><a href="/site/doc/store_reference/#tablecolumns">tableColumns</a>;</li>
<li><a href="/site/doc/store_reference/#tasks">tasks</a>;</li>
<li><a href="/site/doc/store_reference/#type">type</a>.</li>
</ul>
<h2 id="access">access</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    access<span style="color:#000;font-weight:bold">:</span> AccessRule[]
</code></pre></div><p>Устанавливает права доступа на объекты Store. Доступный набор разрешений: <strong>crud</strong>.</p>
<p>Для того, чтобы пользователь получил доступ к описанию Store и она отобразилась в интерфейсе сгенерированного
веб-приложения, необходимо разрешение на чтение – <strong>r</strong>.</p>
<p>Если параметр не определён, доступ есть у всех пользователей, как если бы было указано:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    access<span style="color:#000;font-weight:bold">:</span> [{ role<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;all&#34;</span>, permissions<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;crud&#34;</span> }]
</code></pre></div><p>Если параметр указан, доступ есть только у тех групп пользователей, которым выданы разрешения.</p>
<p>Пример:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    access<span style="color:#d14">&#34; [
</span><span style="color:#d14">            { role: &#34;</span>devops<span style="color:#d14">&#34;, permissions: &#34;</span>cru<span style="color:#d14">&#34; },
</span><span style="color:#d14">            { role: &#34;</span>supervisor<span style="color:#d14">&#34;, permissions: &#34;</span>r<span style="color:#a61717;background-color:#e3d2d2">&#34;</span> },
        ]
</code></pre></div><p>Подробнее о настройках доступа в Blank в разделе <a href="/site/doc/access/">Access control</a></p>
<h2 id="actions">actions</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    actions<span style="color:#000;font-weight:bold">:</span> Action[]
</code></pre></div><p>Описывает возможные действия над объектами, хранящимися в Store. Действия доступны через Websocket API и REST API.</p>
<p>Пример action для лайка фотографии:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    actions<span style="color:#000;font-weight:bold">:</span> [
        {
            _id<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;like&#34;</span>,
            icon<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;fa fa-heart&#34;</span>,
            disabled<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;($item.likes || []).indexOf($user._id) &gt;= 0&#34;</span>,
            script<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">function</span> ($db, $item, $user) {
                <span style="color:#000;font-weight:bold">let</span> likes <span style="color:#000;font-weight:bold">=</span> $item.likes <span style="color:#000;font-weight:bold">||</span> [];
                likes.push($user._id);
                <span style="color:#000;font-weight:bold">return</span> $db.set({ _id<span style="color:#000;font-weight:bold">:</span> $item._id, likes<span style="color:#000;font-weight:bold">:</span> likes }, <span style="color:#d14">&#34;photos&#34;</span>);
            },
        },
    ],
</code></pre></div><h2 id="basestore">baseStore</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    baseStore<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;storeName&#34;</span>
</code></pre></div><p>Базовый Store. Если указан этот параметр, текущий Store будет работать с конфигурацией и объектами данных базового.
Это требуется, если нужно отобразить одни и те же данные для одного пользователя в разных видах и разделах навигации
в веб-приложении. Например, используется для того, чтобы у администратора был и свой профиль, и одновременно возможность
просматривать список профилей других пользователей.</p>
<p>Все настройки Store с указанным baseStore переопредлеяют настройки базового Store, но не влияют на него.</p>
<h2 id="config">config</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    config<span style="color:#000;font-weight:bold">:</span> WorkspaceStoreDesc {}
</code></pre></div><p>Переопредление конфигурации приложения для Store с типом workspace.</p>
<h2 id="disableautoselect">disableAutoSelect</h2>
<p>Отключение автоматического выбора первого объекта в списке в интерфейсе веб-приложения (bool). Только для <code>display:list</code>.</p>
<h2 id="display">display</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    display<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;list&#34;</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#d14">&#34;single&#34;</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#d14">&#34;table&#34;</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#d14">&#34;grid&#34;</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#d14">&#34;dashboard&#34;</span>
</code></pre></div><p>Тип отображения Store в интерфейсе веб-приложения. По-умолчанию равен <code>list</code>.</p>
<p>Если вы не используете автогенерируемое приложение, обратите внимание на <strong>single</strong>, при использовании этого типа
отображения будут изменения в работе через API.</p>
<h3 id="dashboard">dashboard</h3>
<p>Описание отсутствует. Тип отображения еще дорабатывается, напишите нам, если хотите принять участие в тестировании.</p>
<h2 id="entries-typemap">entries [type:map]</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    entries<span style="color:#000;font-weight:bold">:</span> {}
</code></pre></div><p>Данные для Store с типом <strong>map</strong>.</p>
<p>Пример использования:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    _commonSettings<span style="color:#000;font-weight:bold">:</span> {
        type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;map&#34;</span>,
        entries<span style="color:#000;font-weight:bold">:</span> {
            title<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;My App&#34;</span>,
            locales<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;ru&#34;</span>],
            defaultLocale<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;ru&#34;</span>,
            signInLogo<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;/logo.svg&#34;</span>,
            ...
        },
}
</code></pre></div><h2 id="filters">filters</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    filters<span style="color:#000;font-weight:bold">:</span> Filter[]
</code></pre></div><p>Массив заранее определенных запросов к БД, которые будут доступны в веб-приложении и при выполнении метода Find через API.
Подробнее читайте в разделе <a href="/site/doc/filters/">Filters</a></p>
<h2 id="formgroups">formGroups</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    formGroups<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;formGroupName&#34;</span>]
</code></pre></div><p>Массив, указывающий порядок расположения групп на форме редактирования объекта. Названия групп должны совпадать с указанными
группами в настройках props, например:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    formGroups<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;{{$i18n.group2Label}}&#34;</span>, <span style="color:#d14">&#34;Group 1&#34;</span>],
    props<span style="color:#000;font-weight:bold">:</span> {
        prop1<span style="color:#d14">&#34; {
</span><span style="color:#d14">            ...
</span><span style="color:#d14">            formGroup: &#34;</span>Group <span style="color:#099">1</span><span style="color:#d14">&#34;,
</span><span style="color:#d14">            ...
</span><span style="color:#d14">        },
</span><span style="color:#d14">        prop2&#34;</span> {
            ...
            formGroup<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;{{$i18n.group2Label}}&#34;</span>,
            ...
        },
    },
    i18n<span style="color:#000;font-weight:bold">:</span> {
        group2Label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Group 2&#34;</span>,
    }
</code></pre></div><h2 id="formtabs">formTabs</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    formTabs<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;tabId&#34;</span> <span style="color:#000;font-weight:bold">|</span> { _id<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;string&#34;</span>, label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars template&#34;</span>, hidden<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;JavaScript expression&#34;</span> }]
</code></pre></div><p>Определяет порядок и отображение табов в карточках объектов в веб-приложении.</p>
<h2 id="headerproperty">headerProperty</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    headerProperty<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;propName&#34;</span>
</code></pre></div><p>Определяет свойство для использования в заголовке карточек объектов Store в веб-приложении.</p>
<p>Значение по-умолчанию: <strong>name</strong>.</p>
<p>Пример:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    headerProperty<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;orderNumber&#34;</span>,
</code></pre></div><h2 id="headertemplate">headerTemplate</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    headerTemplate<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars template&#34;</span>
</code></pre></div><p>Определяет текст заголовка карточек объектов Store в веб-приложении.</p>
<p>Если параметр указан, значение headerProperty игнорируется и заголовок становится не редактируемым.</p>
<p>Пример:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    headerTemplate<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;{{$item.lastName}} {{$item.name}}&#34;</span>
</code></pre></div><h2 id="html">html</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    html<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars-enabled template&#34;</span>
</code></pre></div><p>Шаблон на <a href="http://handlebarsjs.com/">Handlebars</a> для <code>type:html</code> со следующей моделью данных:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    {
        $items<span style="color:#000;font-weight:bold">:</span> [] <span style="color:#998;font-style:italic">// Массив объектов Store
</span><span style="color:#998;font-style:italic"></span>        $user<span style="color:#000;font-weight:bold">:</span> {} <span style="color:#998;font-style:italic">// Объект пользователя, просматривающего Store
</span><span style="color:#998;font-style:italic"></span>    }
</code></pre></div><h2 id="httpapi">httpApi</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    httpApi<span style="color:#000;font-weight:bold">:</span> bool
</code></pre></div><p>Флаг формирования HTTP REST API для сторы.
Значение по-умолчанию: false.</p>
<h2 id="httphooks">httpHooks</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    httpHooks<span style="color:#000;font-weight:bold">:</span> HTTPHook[]
</code></pre></div><p>Массив описаний методов Store, доступных через HTTP API.
Подробнее читайте в разделе <a href="/site/doc/httphooks/">HTTPHooks</a></p>
<h2 id="i18n">i18n</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    i18n<span style="color:#000;font-weight:bold">:</span> {}
</code></pre></div><p>Объект, содержащий специфичные для данной Store локализации.</p>
<p>Если локализации записаны прямо в корень объекта i18n, они будут относится к локали, установленное по-умолчанию
для приложения. Для записи в другие локали, необходимо создать вложенные объекты, ключами для которых будут названия локалей:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    i18n<span style="color:#000;font-weight:bold">:</span> {
        storeLabel<span style="color:#d14">&#34;: &#34;</span>Название Store<span style="color:#d14">&#34;,
</span><span style="color:#d14">        en&#34;</span><span style="color:#000;font-weight:bold">:</span> {
            storeLabel<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Store name&#34;</span>,
        }
    }
</code></pre></div><p>В значениях допускается указание плейсхолдеров <code>%s</code>, которые будут заменены переданными аргументами
при вызове метода <a href="/site/doc/i18n/#get">i18n.get()</a>;</p>
<p>Обратиться к записям в i18n можно через объект <strong>$i18n</strong> в шаблонах, или через модуль <strong>i18n</strong>
в скриптах на JavaScript.</p>
<h3 id="работа-с-i18n-из-шаблонов">Работа с i18n из шаблонов</h3>
<p>При доступе к i18n из шаблонов текущей Store, все локализации будут доступны напрямую:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;{{$i18n.storeLabel}}&#34;</span>
</code></pre></div><p>Для доступа к локализациям из других Store используется объект $stores:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;{{$i18n.$stores.otherStoreName.storeLabel}}&#34;</span>
</code></pre></div><p>Для доступа к общим локализациям из <strong>_commonSettings</strong> используется объект $settings:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;{{$i18n.$settings.phraseName}}&#34;</span>
</code></pre></div><p>Все обращения будут работать с текущей установленной локалью пользователя или локалью по-умолчанию.</p>
<h2 id="indexes">indexes</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    indexes<span style="color:#000;font-weight:bold">:</span> []
</code></pre></div><p>Описание индексов хранилища.
Содержит массив аргументов для команды <code>createIndex</code> в MongoDB. Каждый элемент может быть либо строковым названием индексируемого поля:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    indexes<span style="color:#000;font-weight:bold">:</span> [
        <span style="color:#d14">&#34;lastName&#34;</span>
    ]
</code></pre></div><p>либо описание индекса в виде объекта:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    indexes<span style="color:#000;font-weight:bold">:</span> [
        { <span style="color:#d14">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span> }
    ]
</code></pre></div><p>либо массивом из двух объектов, где первый объект — это описание индекса, а второй — дополнительные параметры:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    indexes<span style="color:#000;font-weight:bold">:</span> [
        [{ login<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span> }, { unique<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span> }]
    ]
</code></pre></div><p>Конечно, можно сочетать все варианты описания индекса:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    indexes<span style="color:#000;font-weight:bold">:</span> [
        <span style="color:#d14">&#34;lastName&#34;</span>,
        { name<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span> },
        [{ login<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span> }, { unique<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span> }]
    ]
</code></pre></div><p>При старте приложения, каждый элемент будет передан в команду <code>createIndex</code>.</p>
<p>Подробнее об индексах в MongoDB можно почитать здесь: <a href="https://docs.mongodb.com/manual/indexes/">Indexes</a>.</p>
<h2 id="label">label</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars template&#34;</span>
</code></pre></div><p>Название Store, которое будет использоваться в навигации сгенерированного веб-приложения.</p>
<p>Пример:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;{{$i18n.storeLabel}}&#34;</span>
</code></pre></div><h2 id="labels">labels</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    labels<span style="color:#000;font-weight:bold">:</span> Label[]

    Label {
        icon<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;className&#34;</span> <span style="color:#998;font-style:italic">//&#34;fa fa-icon_name&#34; или &#34;material-icons text md-16 icon_name&#34;
</span><span style="color:#998;font-style:italic"></span>        text<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars template&#34;</span>, <span style="color:#998;font-style:italic">//Data model: { $item: {}, $user: {} }
</span><span style="color:#998;font-style:italic"></span>        color<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars template&#34;</span>, <span style="color:#998;font-style:italic">//Data model: { $item: {}, $user: {} }
</span><span style="color:#998;font-style:italic"></span>        hidden<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;JavaScript expression&#34;</span>, <span style="color:#998;font-style:italic">//Variables: $item, $user
</span><span style="color:#998;font-style:italic"></span>        hideInForm<span style="color:#000;font-weight:bold">:</span> bool, <span style="color:#998;font-style:italic">// Скрывает лэйбл в форме редактирования объекта
</span><span style="color:#998;font-style:italic"></span>        showInList<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">int</span>, <span style="color:#998;font-style:italic">// Определяет, на какой строке показывать лэйбл в элементе списка. Если 0 – не отображать
</span><span style="color:#998;font-style:italic"></span>    }
</code></pre></div><p>Массив аннотаций к объектам. Используется для добавления summary объектов в списке и на форме редактирования в
сгенерированном веб-приложении.</p>
<p>Пример:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    labels<span style="color:#000;font-weight:bold">:</span> [
        {
            icon<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;fa fa-power-off&#34;</span>,
            color<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;{{#if $item.disabled}}#ddd{{else}}#43A047{{/if}}&#34;</span>,
            hideInForm<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>,
            showInList<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>,
        },
    ]
</code></pre></div><h2 id="navgroup">navGroup</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    navGroup<span style="color:#000;font-weight:bold">:</span> string,
</code></pre></div><p>Определяет расположения в навигации веб-приложения. Если группа не задана, ссылка на эти объекты будет выведена в первом уровне навигации</p>
<h2 id="navorder">navOrder</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    navOrder<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">int</span>,
</code></pre></div><p>Порядок размещения в навигации веб-приложения</p>
<h2 id="navlabel">navLabel</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    navLabel<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars template&#34;</span>,
</code></pre></div><p>Название Store в навигации веб-приложения. Требуется, если нужно оставить опеределенный label в заголовке открытой в приложении
Store, но в навигации она должна называться по-другому.</p>
<h2 id="objectlifecycle">objectLifeCycle</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    objectLifeCycle<span style="color:#000;font-weight:bold">:</span> {
        eventName<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">function</span> () {}
    },
</code></pre></div><p>Обработчики событий жизненного цикла объектов в Store на JavaScript.</p>
<p>Подробнее читайте в разделе <a href="/site/doc/lifecycle_events/#objectlifecycle">ObjectLifeCycle</a></p>
<h2 id="orderby">orderBy</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    orderBy<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;propName&#34;</span>,
</code></pre></div><p>Поле для сортировки данных по-умолчанию при запросах Find.
Для сортировки в обратном порядке добавьте &lsquo;-&rsquo; перед названием поля:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    orderBy<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;-propName&#34;</span>,
</code></pre></div><h2 id="props">props</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    props<span style="color:#000;font-weight:bold">:</span> {
        propName<span style="color:#000;font-weight:bold">:</span> PropDesc {},
    }
</code></pre></div><p>Структура данных для Store. Props – наиболее сложная и важная часть описания Store.</p>
<p>Простой пример объекта props:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    props<span style="color:#000;font-weight:bold">:</span> {
        name<span style="color:#000;font-weight:bold">:</span> {
            type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;string&#34;</span>,
            display<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;textInput&#34;</span>,
            label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;ФИО&#34;</span>,
            formOrder<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">0</span>,
            required<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>,
        },
        phone<span style="color:#000;font-weight:bold">:</span> {
            type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;string&#34;</span>,
            display<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;masked&#34;</span>,
            label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Телефон&#34;</span>,
            mask<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;+7 (|||) |||-||-||&#34;</span>,
            formOrder<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">10</span>,
            required<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;$item.name&#34;</span>,
        },
    }
</code></pre></div><p>Подробнее читайте в разделе <a href="/site/doc/props_reference/">Props reference</a></p>
<h2 id="states">states</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    states<span style="color:#000;font-weight:bold">:</span> {
        stateName<span style="color:#000;font-weight:bold">:</span> StateDesc { label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;Handlebars template&#34;</span>, navOrder<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">int</span> }
    }
</code></pre></div><p>Параметр для тех Store, объекты которых могут находится в детерминированном наборе состояний, переходя от одного
состояния к другому. Подходит для различных процессов: документооборота, заказов, кампаний.
Если параметр задан, у объектов появится специальное свойство <strong>_state</strong> и в веб-приложении будет отрисована
дополнительная навигация по состояниям объектов.</p>
<h2 id="storeactions">storeActions</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    storeActions<span style="color:#000;font-weight:bold">:</span> Action[]
</code></pre></div><p>Действия, которые относятся ко всему Store, а не к его отдельным объектам. Также, как и Actions, доступны через Websocket API и REST API.</p>
<p>При вызове из веб-приложения в аргументы скрипта передаются текущие значения фильтров.</p>
<h2 id="storelifecycle">storeLifeCycle</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    storeLifeCycle<span style="color:#000;font-weight:bold">:</span> {
        eventName<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">function</span> () {},
    },
</code></pre></div><p>Обработчики событий жизненного цикла объектов в Store на JavaScript.</p>
<p>Подробнее читайте в разделе <a href="/site/doc/lifecycle_events/#storelifecycle">StoreLifeCycle</a></p>
<h2 id="tablecolumns">tableColumns</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    tableColumns<span style="color:#000;font-weight:bold">:</span> [<span style="color:#d14">&#34;propName&#34;</span> <span style="color:#000;font-weight:bold">|</span> ColumnDesc]

    ColumnDesc {
        prop<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;propName&#34;</span>,
        display<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;propDisplayType&#34;</span>,
        label<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;columnHeader&#34;</span>,
        tableLink<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">true</span>,
    }
</code></pre></div><p>Определяет набор, порядок и тип отображения столбцов таблицы для <code>display:html</code>.
В случае указания в виде объекта типа <code>ColumnDesc</code>, имеется возможность переопределить некоторые свойства поля для отображения в таблице.
Так же объект может содержать дополнительное булевое свойство <code>tableLink</code>, которое обозначает необходимость отобразить значение поля в виде
ссылки на объект в интерфейсе (только для полей с типом <code>ref</code>).</p>
<h2 id="tasks">tasks</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    tasks<span style="color:#000;font-weight:bold">:</span> [Task { schedule<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;CRON-formatted string&#34;</span>, script<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">function</span> () {} }]
</code></pre></div><p>Задачи, требующие периодического запуска.</p>
<p>Подробнее читайте в разделе <a href="/site/doc/tasks/">Tasks</a></p>
<h2 id="type">type</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#34;directory&#34;</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#d14">&#34;single&#34;</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#d14">&#34;map&#34;</span>
</code></pre></div><h3 id="directory">directory</h3>
<p>Тип Store по-умолчанию. Предназначен для хранения коллекции данных.</p>
<h3 id="single">single</h3>
<p>В отличие от Directory, хранит единственный документ. Используется для хранения каких-либо настроек приложения.</p>
<h3 id="map">map</h3>
<p>Используется только для системных Store, в которых хранятся настройки самого приложения на Blank. Создавать новые
Store с таким типом не имеет смысла, но при разработке, возможно, потребуется изменять настройки существующих Store с таким
типом, таких как:</p>
<ul>
<li>_commonSettings</li>
<li>_nav</li>
</ul>
<p>Store с типом map не хранят данные в БД, вся информация записывается в поле <strong>entries</strong> описания Store.</p>
<h3 id="workspace">workspace</h3>
<p>Тип для частичного переопределения конфигурации. Если у пользователя указано свойство <strong>workspace</strong> с соответствующим
значением, для него будет сформирована специальная конфигурация, объеденённая из базовой и конфигурации из свойства <strong>config</strong>
workspace-а.</p>

      </div>
    </div>
  </div>
  <div class="clear"></div>
</div>

<footer id="contacts">
  <div id="contacts-start"></div>
  <div>
    <p>2020 &copy; Blank</p>
    <p>Телефон: +7 (922) 477-26-60</p>
    <p>E-mail: info+blank@sclif.pro</p>
    <p style="font-size: .8rem">Россия &middot; Тюмень</p>
    <p class="hugo">Site powered by <a href="http://gohugo.io">Hugo</a></p>
  </div>
  <div id="contacts-end"></div>
</footer>
<div id="lightbox" class="hidden">
  <div class="back"></div>
  <div class="close"></div>
  <div class="image">
    <img src="" alt="" />
  </div>
</div>
<script type="text/javascript" src="app.bundle.js"></script>
<script src="/site/js/highlight.pack.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
</body>

</html>